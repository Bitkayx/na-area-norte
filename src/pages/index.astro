---
import Layout from "@layouts/Layout.astro";
import BlogPost from "@components/BlogPost.astro";
import Ubicacion from "@components/Ubicacion.astro";
import { Icon } from "astro-icon/components";
import { getCollection } from "astro:content";

const allPosts = await getCollection("blog");
const title = "Neuroticos Anonimos Area Norte CDMX";
---

<Layout title={title}>
  <section class="py-16 md:py-24">
    <div
      class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center text-center sm:text-left"
    >
      <div class="flex flex-col gap-8">
        <div class="space-y-6">
          <h1
            class="text-6xl md:text-7xl font-extrabold text-[#1e293b] dark:text-white leading-[1.05] tracking-tight"
          >
            Neuroticos Anonimos <br /><span class="text-primary"
              >Area Norte</span
            >
            <br />CDMX
          </h1>
          <p class="text-lg text-slate-500 dark:text-slate-400 leading-relaxed">
            Fundado en 1997
          </p>
        </div>
      </div>
      <div class="relative">
        <div
          class="w-full aspect-[4/3] rounded-[2.5rem] overflow-hidden shadow-2xl flex items-center justify-center bg-linear-to-br from-[#f0fdf4] to-[#e6f7ee]"
        >
          <img
            alt="NA AC Ãrea Norte CDMX Logo"
            class="w-full max-w-md mx-auto object-contain p-8"
            src="/na-logo.png"
            width="400"
            height="400"
          />
        </div>
      </div>
    </div>
  </section>

  <section class="py-16">
    <div
      class="flex flex-col sm:flex-row justify-between items-start sm:items-end mb-10"
    >
      <div class="space-y-2">
        <h2
          class="text-3xl font-bold tracking-tight text-slate-900 dark:text-white"
        >
          Noticias Recientes
        </h2>
        <p class="text-sm text-slate-500 dark:text-slate-400">
          Mantente informado sobre eventos, convenciones y salud mental.
        </p>
      </div>
      <a
        class="text-primary font-bold text-sm flex items-center gap-1 hover:underline"
        href="/noticias"
      >
        Ver todas las noticias
        <Icon name="material-symbols:chevron-right" />
      </a>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {
        allPosts.map((post: any) => (
          <BlogPost
            url={`/noticias/${post.id}`}
            title={post.data.title}
            description={post.data.description}
            pubDate={post.data.pubDate}
            author={post.data.author}
            image={post.data.image}
            tags={post.data.tags}
          />
        ))
      }
    </div>
  </section>

  <!-- Ubicanos en el mapa -->
  <Ubicacion />
</Layout>
